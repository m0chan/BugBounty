<h3 class="mb0 visible-md visible-lg">
   <span dropdown="dropdown" class="dropdown dropdown-list">
      <span dropdown-toggle="dropdown-toggle">
         <em class="fa fa-angle-down ml-lg"></em>&nbsp;{{AllData.SelectedVehicle.Name || ("common.NoNameVehicle" | translate) }}</span>
      <ul role="menu" style="top:initial" class="dropdown-menu">
         <li>
            <div class="list-group">
               <a ng-repeat="v in AllData.Vehicles" ng-click="changeSelectedVehicle(v)" class="list-group-item">
                  <div class="media-box">
                     <div class="pull-left">
                        <em class="fa fa-car"></em>
                     </div>
                     <div class="media-box-body clearfix">
                        <p class="m0">{{v.Name || ("common.NoNameVehicle" | translate) }}</p>
                        <p class="m0 text-muted">
                           <small ng-if="v.VIN!=null &amp;&amp; v.VIN!=''">{{"common.VIN" | translate }}: {{v.VIN}}</small>
                           <small ng-if="v.LicensePlate!=null">{{"common.LicensePlate" | translate }}: {{v.LicensePlate}}</small>
                        </p>
                     </div>
                  </div>
               </a>
            </div>
         </li>
      </ul>
   </span>
   <div class="pull-right">
      <span ng-if="!AllEvents" class="mr-lg"><i class="fa fa-spinner fa-spin text-gray"></i>{{ "mymojio_trip.LoadingHeatMap" | translate}}</span>
      <span dropdown="dropdown" ng-if="AllEvents" class="dropdown dropdown-list mr-lg">
         <span dropdown-toggle="dropdown-toggle">
            <em class="fa fa-angle-down"></em>&nbsp;{{SelectedHeatMap.title | translate}}</span>
         <ul role="menu" style="top:initial" class="dropdown-menu">
            <li>
               <div class="list-group">
                  <a ng-repeat="r in AllHeatMap" ng-click="changeHeatMap(r)" class="list-group-item">
                     <div class="media-box">
                        <div class="pull-left">
                           <em class="fa fa-calendar"></em>
                        </div>
                        <div class="media-box-body clearfix">
                           <p class="m0">{{r.title | translate}}</p>
                           <p class="m0 text-muted"></p>
                        </div>
                     </div>
                  </a>
               </div>
            </li>
         </ul>
      </span>
      <span dropdown="dropdown" class="dropdown dropdown-list mr-lg">
         <span dropdown-toggle="dropdown-toggle">
            <em class="fa fa-angle-down"></em>&nbsp;{{SelectedRange.title | translate}}</span>
         <ul role="menu" style="top:initial" class="dropdown-menu">
            <li>
               <div class="list-group">
                  <a ng-repeat="r in AllRange" ng-click="changeDateRange(r)" class="list-group-item">
                     <div class="media-box">
                        <div class="pull-left">
                           <em class="fa fa-calendar"></em>
                        </div>
                        <div class="media-box-body clearfix">
                           <p class="m0">{{r.title | translate}}</p>
                           <p class="m0 text-muted"></p>
                        </div>
                     </div>
                  </a>
               </div>
            </li>
         </ul>
      </span>
      <span ng-click="changeSortDirection()">
         <em ng-class="{'text-gray-light':SortAsc,'text-green':!SortAsc}" class="fa fa-long-arrow-down pull-right"></em>
         <em ng-class="{'text-gray-light':!SortAsc,'text-green':SortAsc}" class="fa fa-long-arrow-up pull-right"></em>
      </span>
      <span dropdown="dropdown" class="dropdown dropdown-list">
         <span dropdown-toggle="dropdown-toggle">
            <em class="fa fa-angle-down"></em>&nbsp;{{SortBy.title | translate}}</span>
         <ul role="menu" style="top:initial" class="dropdown-menu">
            <li>
               <div class="list-group">
                  <a ng-repeat="s in AllSort" ng-click="changeSort(s)" class="list-group-item">
                     <div class="media-box">
                        <div class="media-box-body clearfix">
                           <p class="m0">{{s.title | translate}}</p>
                           <p class="m0 text-muted"></p>
                        </div>
                     </div>
                  </a>
               </div>
            </li>
         </ul>
      </span>
   </div>
</h3>
<div class="hidden-md hidden-lg">
   <span dropdown="dropdown" class="dropdown dropdown-list">
      <span dropdown-toggle="dropdown-toggle">
         <em class="fa fa-angle-down ml-lg"></em>&nbsp;{{AllData.SelectedVehicle.Name || ("common.NoNameVehicle" | translate) }}</span>
      <ul role="menu" style="top:initial" class="dropdown-menu">
         <li>
            <div class="list-group">
               <a ng-repeat="v in AllData.Vehicles" ng-click="changeSelectedVehicle(v)" class="list-group-item">
                  <div class="media-box">
                     <div class="pull-left">
                        <em class="fa fa-car"></em>
                     </div>
                     <div class="media-box-body clearfix">
                        <p class="m0">{{v.Name || ("common.NoNameVehicle" | translate) }}</p>
                        <p class="m0 text-muted">
                           <small ng-if="v.VIN!=null &amp;&amp; v.VIN!=''">{{"common.VIN" | translate }}: {{v.VIN}}</small>
                           <small ng-if="v.LicensePlate!=null">{{"common.LicensePlate" | translate }}: {{v.LicensePlate}}</small>
                        </p>
                     </div>
                  </div>
               </a>
            </div>
         </li>
      </ul>
   </span>
   <br/>
   <span ng-if="!AllEvents" class="mr-lg"><i class="fa fa-spinner fa-spin text-gray"></i>{{ "mymojio_trip.LoadingHeatMap" | translate}}</span>
   <span dropdown="dropdown" ng-if="AllEvents" class="dropdown dropdown-list mr-lg">
      <span dropdown-toggle="dropdown-toggle">
         <em class="fa fa-angle-down ml-lg"></em>&nbsp;{{SelectedHeatMap.title | translate}}</span>
      <ul role="menu" style="top:initial" class="dropdown-menu">
         <li>
            <div class="list-group">
               <a ng-repeat="r in AllHeatMap" ng-click="changeHeatMap(r)" class="list-group-item">
                  <div class="media-box">
                     <div class="pull-left">
                        <em class="fa fa-calendar"></em>
                     </div>
                     <div class="media-box-body clearfix">
                        <p class="m0">{{r.title | translate}}</p>
                        <p class="m0 text-muted"></p>
                     </div>
                  </div>
               </a>
            </div>
         </li>
      </ul>
   </span>
   <span dropdown="dropdown" class="dropdown dropdown-list mr-lg">
      <span dropdown-toggle="dropdown-toggle">
         <em class="fa fa-angle-down ml-lg"></em>&nbsp;{{SelectedRange.title | translate}}</span>
      <ul role="menu" style="top:initial" class="dropdown-menu">
         <li>
            <div class="list-group">
               <a ng-repeat="r in AllRange" ng-click="changeDateRange(r)" class="list-group-item">
                  <div class="media-box">
                     <div class="pull-left">
                        <em class="fa fa-calendar"></em>
                     </div>
                     <div class="media-box-body clearfix">
                        <p class="m0">{{r.title | translate}}</p>
                        <p class="m0 text-muted"></p>
                     </div>
                  </div>
               </a>
            </div>
         </li>
      </ul>
   </span>
   <span ng-click="changeSortDirection()">
      <em ng-class="{'text-gray-light':SortAsc,'text-green':!SortAsc}" class="fa fa-long-arrow-down"></em>
      <em ng-class="{'text-gray-light':!SortAsc,'text-green':SortAsc}" class="fa fa-long-arrow-up"></em>
   </span>
   <span dropdown="dropdown" class="dropdown dropdown-list">
      <span dropdown-toggle="dropdown-toggle">
         <em class="fa fa-angle-down ml-lg"></em>&nbsp;{{SortBy.title | translate}}</span>
      <ul role="menu" style="top:initial" class="dropdown-menu">
         <li>
            <div class="list-group">
               <a ng-repeat="s in AllSort" ng-click="changeSort(s)" class="list-group-item">
                  <div class="media-box">
                     <div class="media-box-body clearfix">
                        <p class="m0">{{s.title | translate}}</p>
                        <p class="m0 text-muted"></p>
                     </div>
                  </div>
               </a>
            </div>
         </li>
      </ul>
   </span>
</div>
<div class="row m0 p0">
   <div class="col-sm-12 col-md-7 col-lg-7 fullheightmap p-sm visible-md visible-lg">
      <div id="map" class="fullheightmap b"></div>
   </div>
   <div class="col-sm-12 col-md-5 col-lg-5 p-sm">
      <table class="table fixheader b table-striped trip-table table-responsive">
         <thead>
            <tr>
               <th class="fieldHeader trip-header">
                  <div class="row bb">
                     <div class="col-xs-11 col-xs-offset-1 trip-title mb-sm">{{Trips.length}} {{ "mymojio_trip.Trips" | translate}}
                        <br/>{{SelectedTrips.length}} {{ "mymojio_trip.Selected" | translate}}
                        <span ng-show="SelectedTrips.length&gt;1" are-you-sure="mergeTrips()" class="pull-right ml-sm trip-title mb-sm">
                           <em class="fa fa-compress"></em>&nbsp;{{ "mymojio_trip.Merge" | translate}}</span>
                        <span ng-show="SelectedTrips.length&gt;0" are-you-sure="deleteTrips()" class="pull-right ml-sm trip-title mb-sm">
                           <em class="fa fa-trash-o"></em>&nbsp;{{ "mymojio_trip.Delete" | translate}}</span>
                        <span ng-click="downloadTrips()" class="pull-right ml-sm trip-title mb-sm">
                           <em class="fa fa-download"></em>&nbsp;{{ "mymojio_trip.Export" | translate}}</span>
                     </div>
                  </div>
                  <div class="row pt-sm pb-sm">
                     <div class="col-xs-5 col-xs-offset-1 trip-title">{{ "mymojio_trip.Trip" | translate}} {{ "mymojio_trip.TimeStamp" | translate}}</div>
                     <div class="col-xs-6 trip-title">{{ "mymojio_trip.TripDetails" | translate}}
                        <div class="pull-right">
                           <span ng-click="selectAll()">
                              <span ng-show="SelectedTrips.length!=Trips.length">{{ "mymojio_trip.SelectAll" | translate}}</span>
                              <span ng-show="SelectedTrips.length==Trips.length">{{ "mymojio_trip.Deselect" | translate}}</span>
                           </span>
                        </div>
                     </div>
                  </div>
               </th>
            </tr>
         </thead>
         <tbody>
            <tr ng-show="Loading">
               <td>
                  <div class="row noscroll">
                     <div class="col-xs-12 text-center"><i class="fa fa-spinner fa-spin fa-4x"></i>
                     </div>
                  </div>
               </td>
            </tr>
            <tr ng-show="!Loading &amp;&amp; Trips.length==0">
               <td>
                  <div class="row noscroll">
                     <div class="col-xs-12 text-center h3">{{ "mymojio_trip.NoTripsAvailable" | translate}}</div>
                  </div>
               </td>
            </tr>
            <tr ng-repeat="row in Trips | orderBy:SortBy.field:SortAsc" ng-click="selectTrip($event,row,false)" ng-class="{'selected-trip':row.selected}">
               <td>
                  <div class="row trip-row">
                     <div class="col-xs-1 text-center">
                        <div class="point-start text-circle2">A</div>
                        <div class="line-between"></div>
                        <div class="point-end text-circle2">B</div>
                     </div>
                     <div class="col-xs-5">
                        <div ng-show="row.StartAddress">{{row.StartAddress.Address1}}, {{row.StartAddress.City}}, {{row.StartAddress.State}}</div>
                        <lat-lng-to-address ng-if="!row.EndAddress" loc="row.StartLocation" cache="true" accuracy="3"></lat-lng-to-address>
                        <span class="text-sm1">{{row.StartTime | date:'MMM d, yyyy'}} &nbsp;&nbsp; {{row.StartTime | date:'hh:mm a'}}</span>
                        <br/>&nbsp;
                        <br/>
                        <div ng-show="row.EndAddress">{{row.EndAddress.Address1}}, {{row.EndAddress.City}}, {{row.EndAddress.State}}</div>
                        <lat-lng-to-address ng-if="!row.EndAddress" loc="row.EndLocation" cache="true" accuracy="3"></lat-lng-to-address>
                        <span class="text-sm1">{{row.EndTime | date:'MMM d, yyyy'}} &nbsp;&nbsp; {{row.EndTime | date:'hh:mm a'}}</span>
                     </div>
                     <div class="col-xs-6">
                        <em ng-click="selectTrip($event,row,true)" ng-class="{'fa-check-square-o':row.selected,'fa-square-o':!row.selected}" class="fa pull-right"></em>
                        <div class="fa-20px">
                           <em class="fa icon-trip mt-lg fa-20px"></em>&nbsp; {{row.Distance | convertUnit:'distance':$root.app.layout.unit | number:'1'}} {{'Km' | unitTitle:$root.app.layout.unit}}</div>
                        <div class="fa-20px">
                           <em class="fa fa-clock-o mt-lg mb-lg fa-20px"></em>&nbsp; {{row.EndTime | duration:row.StartTime}}</div>
                        <div class="fa-20px">
                           <em class="icon-fuel mt-lg fa-20px"></em>&nbsp; {{row.FuelEfficiencyScore | fuelEfficiencyScore:'NT'}}</div>
                     </div>
                     <div ng-if="row.hasEvents" class="col-xs-12 hidden-md hidden-lg">
                        <a ng-show="!row.ShowMap" ng-click="row.ShowMap=true" class="ShowMapBtn">
                           <em class="fa fa-2x fa-globe"></em>&nbsp; {{ "mymojio_trip.ShowRoute" | translate}}</a>
                        <div trip-map="trip-map" ng-if="row.ShowMap" events="tripEvents(row)" style="height:200px"></div>
                     </div>
                  </div>
               </td>
            </tr>
         </tbody>
      </table>
   </div>
</div>